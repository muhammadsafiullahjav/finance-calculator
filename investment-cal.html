<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Calculate your Equated Monthly Installment (EMI) with our easy-to-use EMI Calculator. Supports multiple currencies, real-time updates, and interactive charts. Perfect for loan planning!">
  <meta name="keywords" content="EMI Calculator, Loan Calculator, EMI Calculation, Loan EMI, Monthly Installment, Loan Planning, Currency Converter">
  <meta name="author" content="EMI Calculator Team">
  <meta name="robots" content="index, follow">
  <title>EMI Calculator - Calculate Loan EMI with Interactive Charts</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "EMI Calculator",
      "description": "Calculate your Equated Monthly Installment (EMI) with our easy-to-use EMI Calculator. Supports multiple currencies, real-time updates, and interactive charts.",
      "applicationCategory": "Finance",
      "operatingSystem": "Web",
      "url": "https://www.emicalculator.com",
      "screenshot": "https://www.emicalculator.com/screenshot.png",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
  </script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #121212; /* Dark background */
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      color: #e0e0e0; /* Light text color */
    }

    header {
      background: #1f1f1f; /* Dark header */
      color: #fff;
      width: 100%;
      padding: 1rem 0;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    nav {
      display: flex;
      justify-content: center;
      background: #1f1f1f; /* Dark nav */
      padding: 1rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    nav a {
      margin: 0 1rem;
      text-decoration: none;
      color: #4a90e2; /* Blue links */
      font-weight: 500;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #ff6b6b; /* Red hover */
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
    }

    .container {
      background: #1f1f1f; /* Dark container */
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      width: 90%;
      max-width: 800px;
      margin: 2rem 0;
    }

    .intro {
      text-align: center;
      margin-bottom: 2rem;
    }

    .intro p {
      font-size: 1rem;
      color: #b0b0b0; /* Light gray text */
      line-height: 1.6;
    }

    .input-group {
      margin-bottom: 1.5rem;
    }

    .input-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #4a90e2; /* Blue label */
    }

    .input-group input,
    .input-group select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #333; /* Dark border */
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
      background: #333; /* Dark input background */
      color: #e0e0e0; /* Light text */
    }

    .input-group input:focus,
    .input-group select:focus {
      border-color: #4a90e2; /* Blue focus */
      outline: none;
    }

    .results {
      margin-top: 2rem;
      text-align: center;
    }

    .results h2 {
      font-size: 1.5rem;
      color: #4a90e2; /* Blue heading */
      margin-bottom: 1rem;
    }

    .results p {
      font-size: 1.2rem;
      margin: 0.5rem 0;
      color: #b0b0b0; /* Light gray text */
    }

    .charts {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .chart-container {
      width: 48%;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .buttons button {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .buttons button.calculate {
      background: #4a90e2; /* Blue button */
      color: #fff;
    }

    .buttons button.reset {
      background: #ff6b6b; /* Red button */
      color: #fff;
    }

    .buttons button:hover {
      opacity: 0.9;
    }

    footer {
      background: #1f1f1f; /* Dark footer */
      color: #fff;
      width: 100%;
      padding: 1rem 0;
      text-align: center;
      margin-top: auto;
      box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.3);
    }

    footer p {
      margin: 0;
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .charts {
        flex-direction: column;
      }

      .chart-container {
        width: 100%;
        margin-bottom: 1rem;
      }
    }
  </style>
  <style>
    .timeline {
      display: flex;
      justify-content: space-between;
      margin: 1rem 0;
      padding: 1rem;
      background: #333;
      border-radius: 8px;
      flex-wrap: wrap;
    }
    
    .timeline-item {
      text-align: center;
      padding: 0.5rem;
      flex: 1;
      min-width: 100px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Investment Calculator</h1>
  </header>

  <nav>
    <a href="https://muhammadsafiullahjav.github.io/finance-calculator/#calculators/home">Home</a>
    <a href="https://muhammadsafiullahjav.github.io/finance-calculator/#calculators">Calculators</a>
    <a href="https://example.com/about">About</a>
    <a href="https://example.com/contact">Contact</a>
  </nav>

  <div class="container">
    <div class="intro">
      <p>
        The <strong>Investment Calculator</strong> helps you visualize the power of compound interest. 
        Enter your initial investment, monthly contributions, expected return rate, and investment period 
        to see your potential wealth growth over time.
      </p>
    </div>

    <div class="input-group">
      <label for="currency">Currency</label>
      <select id="currency">
        <!-- Options populated dynamically -->
      </select>
    </div>
    <div class="input-group">
      <label for="initialAmount">Initial Investment</label>
      <input type="number" id="initialAmount" min="0" value="10000">
    </div>
    <div class="input-group">
      <label for="monthlyContribution">Monthly Contribution</label>
      <input type="number" id="monthlyContribution" min="0" value="500">
    </div>
    <div class="input-group">
      <label for="returnRate">Expected Annual Return (%)</label>
      <input type="number" id="returnRate" min="0" max="30" step="0.1" value="7">
    </div>
    <div class="input-group">
      <label for="investmentYears">Investment Period (Years)</label>
      <input type="number" id="investmentYears" min="1" max="50" value="10">
    </div>

    <div class="buttons">
      <button class="calculate" onclick="calculateInvestment()">Calculate</button>
      <button class="reset" onclick="resetInvestmentForm()">Reset</button>
    </div>

    <div class="results">
      <h2>Investment Projection</h2>
      <p>Total Invested: <span id="totalInvested">$0.00</span></p>
      <p>Interest Earned: <span id="totalInterest">$0.00</span></p>
      <p>Future Value: <span id="futureValue">$0.00</span></p>
    </div>

    <div class="charts">
      <div class="chart-container">
        <canvas id="growthChart" aria-label="Investment Growth Over Time"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="breakdownChart" aria-label="Investment Breakdown"></canvas>
      </div>
    </div>

    <div class="timeline" id="timeline">
      <!-- Timeline populated dynamically -->
    </div>
  </div>

  <footer>
    <p>&copy; 2023 Finance Calculator. All rights reserved.</p>
  </footer>

  <script>
    // Shared currency functions
    const currencySelect = document.getElementById('currency');
    let exchangeRates = {};

    // Investment-specific elements
    const initialAmountInput = document.getElementById('initialAmount');
    const monthlyContributionInput = document.getElementById('monthlyContribution');
    const returnRateInput = document.getElementById('returnRate');
    const investmentYearsInput = document.getElementById('investmentYears');
    
    const totalInvestedSpan = document.getElementById('totalInvested');
    const totalInterestSpan = document.getElementById('totalInterest');
    const futureValueSpan = document.getElementById('futureValue');
    
    const growthChartCtx = document.getElementById('growthChart').getContext('2d');
    const breakdownChartCtx = document.getElementById('breakdownChart').getContext('2d');
    
    let growthChart, breakdownChart;

    async function fetchExchangeRates() {
      try {
        const response = await fetch('https://open.er-api.com/v6/latest/USD');
        const data = await response.json();
        exchangeRates = data.rates;
      } catch (error) {
        console.error('Error fetching exchange rates:', error);
      }
    }

    function populateCurrencyDropdown() {
      const currencies = [
        'USD', 'EUR', 'GBP', 'INR', 'JPY', 'AUD', 'CAD', 
        'CNY', 'NZD', 'CHF', 'ZAR', 'BRL', 'PKR'
      ];
      
      currencies.forEach(code => {
        const option = document.createElement('option');
        option.value = code;
        option.textContent = code;
        currencySelect.appendChild(option);
      });
    }

    function convertCurrency(amount, targetCurrency) {
      return amount * (exchangeRates[targetCurrency] || 1);
    }

    function formatCurrency(amount, currency) {
      return new Intl.NumberFormat('en-US', { 
        style: 'currency', 
        currency,
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
      }).format(amount);
    }

    function calculateInvestment() {
      const initial = parseFloat(initialAmountInput.value) || 0;
      const monthly = parseFloat(monthlyContributionInput.value) || 0;
      const annualRate = (parseFloat(returnRateInput.value) || 0) / 100;
      const years = parseFloat(investmentYearsInput.value) || 1;
      
      const months = years * 12;
      const monthlyRate = annualRate / 12;
      let futureValue = initial;
      const timelineData = [];
      
      // Calculate compound growth with monthly contributions
      for(let i = 0; i < months; i++) {
        futureValue = futureValue * (1 + monthlyRate) + monthly;
        if((i + 1) % 12 === 0) {
          timelineData.push({
            year: (i + 1) / 12,
            value: futureValue
          });
        }
      }
      
      const totalInvested = initial + (monthly * months);
      const interestEarned = futureValue - totalInvested;
      
      // Convert and format values
      const selectedCurrency = currencySelect.value;
      const convertedTotal = convertCurrency(totalInvested, selectedCurrency);
      const convertedInterest = convertCurrency(interestEarned, selectedCurrency);
      const convertedFuture = convertCurrency(futureValue, selectedCurrency);
      
      totalInvestedSpan.textContent = formatCurrency(convertedTotal, selectedCurrency);
      totalInterestSpan.textContent = formatCurrency(convertedInterest, selectedCurrency);
      futureValueSpan.textContent = formatCurrency(convertedFuture, selectedCurrency);
      
      updateCharts(timelineData, convertedTotal, convertedInterest);
      updateTimeline(timelineData, selectedCurrency);
    }

    function updateCharts(timelineData, principal, interest) {
      // Destroy existing charts
      if(growthChart) growthChart.destroy();
      if(breakdownChart) breakdownChart.destroy();

      // Growth Chart with Gradient
      const gradient = growthChartCtx.createLinearGradient(0, 0, 0, 400);
      gradient.addColorStop(0, 'rgba(74, 144, 226, 0.4)');
      gradient.addColorStop(1, 'rgba(74, 144, 226, 0)');

      growthChart = new Chart(growthChartCtx, {
        type: 'line',
        data: {
          labels: timelineData.map(d => `Year ${d.year}`),
          datasets: [{
            label: 'Portfolio Value',
            data: timelineData.map(d => d.value),
            borderColor: '#4a90e2',
            borderWidth: 3,
            tension: 0.4,
            fill: true,
            backgroundColor: gradient,
            pointRadius: 0,
            pointHoverRadius: 5
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              labels: { color: '#e0e0e0' }
            },
            tooltip: {
              backgroundColor: '#1f1f1f',
              bodyColor: '#e0e0e0',
              borderColor: '#333',
              callbacks: {
                label: (ctx) => formatCurrency(ctx.parsed.y, currencySelect.value)
              }
            }
          },
          scales: {
            x: { ticks: { color: '#b0b0b0' } },
            y: { 
              ticks: { 
                color: '#b0b0b0',
                callback: (value) => formatCurrency(value, currencySelect.value)
              } 
            }
          }
        }
      });

      // Breakdown Pie Chart
      breakdownChart = new Chart(breakdownChartCtx, {
        type: 'pie',
        data: {
          labels: ['Total Invested', 'Interest Earned'],
          datasets: [{
            data: [principal, interest],
            backgroundColor: ['#4a90e2', '#ff6b6b'],
            borderWidth: 2
          }]
        },
        options: {
          plugins: {
            legend: { labels: { color: '#e0e0e0' } },
            tooltip: {
              backgroundColor: '#1f1f1f',
              bodyColor: '#e0e0e0'
            }
          }
        }
      });
    }

    function updateTimeline(data, currency) {
      const timeline = document.getElementById('timeline');
      timeline.innerHTML = data.map(d => `
        <div class="timeline-item">
          <div style="color: #4a90e2">Year ${d.year}</div>
          <div>${formatCurrency(d.value, currency)}</div>
        </div>
      `).join('');
    }

    function resetInvestmentForm() {
      initialAmountInput.value = 10000;
      monthlyContributionInput.value = 500;
      returnRateInput.value = 7;
      investmentYearsInput.value = 10;
      totalInvestedSpan.textContent = '$0.00';
      totalInterestSpan.textContent = '$0.00';
      futureValueSpan.textContent = '$0.00';
      if(growthChart) growthChart.destroy();
      if(breakdownChart) breakdownChart.destroy();
      document.getElementById('timeline').innerHTML = '';
    }

    // Initialize calculator
    async function initialize() {
      await fetchExchangeRates();
      populateCurrencyDropdown();
      calculateInvestment();
    }
    
    initialize();
  </script>
</body>
</html>
